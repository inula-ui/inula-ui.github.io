import{o as c,a9 as R,V as p,i as N,l as m,e as z,j as T}from"./index-d0d96015.js";import{s as D}from"./scrollTo-d52cfee2.js";const I=r=>c.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",...r},c.createElement("path",{d:"M6.99 11 3 15l3.99 4v-3H14v-2H6.99v-3zM21 9l-3.99-4v3H10v2h7.01v3L21 9z"})),b=R(["12",...Array.from({length:11}).map((r,n)=>`${n+1<10?"0":""}${n+1}`)]),[q,O,U]=[24,60,60].map(r=>R(Array.from({length:r}).map((n,i)=>`${i<10?"0":""}${i}`))),F=c.forwardRef((r,n)=>{const{styled:i,time:s,format:h,config:l,inDatePicker:C=!1,onTimeChange:g}=r,y=c.useRef(null),H=c.useRef(null),v=c.useRef(null),_=c.useRef({}),w=h.includes("hh"),S=(()=>{const t=[];return h.toLowerCase().includes("hh")&&t.push("HH"),h.includes("mm")&&t.push("mm"),h.includes("ss")&&t.push("ss"),t})(),a=s?p(s):p("00:00:00","HH:mm:ss"),[$,j]=c.useState("AM"),k=s?a.get("hour")<12?"AM":"PM":$,M=N((t,e,u="smooth")=>{var f,o,x,A,E,P;if(e==="hour"||m.isUndefined(e)){let d=t.getHours();w&&(k==="AM"&&d>11&&(d-=12),k==="PM"&&d<12&&(d+=12)),y.current&&((o=(f=_.current).clearHTid)==null||o.call(f),_.current.clearHTid=D(y.current,{top:Array.prototype.indexOf.call(y.current.children,y.current.querySelector(`[data-h="${d}"]`))*28,behavior:u,during:200}))}if(e==="minute"||m.isUndefined(e)){const d=t.getMinutes();H.current&&((A=(x=_.current).clearMTid)==null||A.call(x),_.current.clearMTid=D(H.current,{top:Array.prototype.indexOf.call(H.current.children,H.current.querySelector(`[data-m="${d}"]`))*28,behavior:u,during:200}))}if(e==="second"||m.isUndefined(e)){const d=t.getSeconds();v.current&&((P=(E=_.current).clearSTid)==null||P.call(E),_.current.clearSTid=D(v.current,{top:Array.prototype.indexOf.call(v.current.children,v.current.querySelector(`[data-s="${d}"]`))*28,behavior:u,during:200}))}});return c.useImperativeHandle(n,()=>t=>{M(t,void 0,"instant")},[M]),z("div",{...i("time-picker__panel"),children:[C&&T("div",{...i("time-picker__header"),children:a.format(S.join(":"))}),S.includes("HH")&&T("ul",{...i("time-picker__column"),ref:y,children:(w?b:q).map(t=>{let e=Number(t);w&&(k==="AM"&&e===12&&(e=0),k==="PM"&&e!==12&&(e+=12));const{disabled:u,hidden:f}=(l==null?void 0:l("hour",e))??{};return f?null:c.createElement("li",{...i("time-picker__cell",{"time-picker__cell.is-active":s&&a.get("hour")===e,"time-picker__cell.is-disabled":u}),key:e,"data-h":e,onClick:()=>{const o=a.set("hour",e).toDate();M(o,"hour"),g(o)}},t)})}),S.includes("mm")&&T("ul",{...i("time-picker__column"),ref:H,children:O.map(t=>{const e=Number(t),{disabled:u,hidden:f}=(l==null?void 0:l("minute",e))??{};return f?null:c.createElement("li",{...i("time-picker__cell",{"time-picker__cell.is-active":s&&a.get("minute")===e,"time-picker__cell.is-disabled":u}),key:e,"data-m":e,onClick:()=>{const o=a.set("minute",e).toDate();M(o,"minute"),g(o)}},t)})}),S.includes("ss")&&T("ul",{...i("time-picker__column"),ref:v,children:U.map(t=>{const e=Number(t),{disabled:u,hidden:f}=(l==null?void 0:l("second",e))??{};return f?null:c.createElement("li",{...i("time-picker__cell",{"time-picker__cell.is-active":s&&a.get("second")===e,"time-picker__cell.is-disabled":u}),key:e,"data-s":e,onClick:()=>{const o=a.set("second",e).toDate();M(o,"second"),g(o)}},t)})}),w&&T("ul",{...i("time-picker__column"),children:["AM","PM"].map(t=>c.createElement("li",{...i("time-picker__cell",{"time-picker__cell.is-active":k===t}),key:t,onClick:()=>{if(s){if(k!==t){const e=a.set("hour",a.get("hour")+(t==="AM"?-12:12)).toDate();g(e)}}else j(t)}},t))})]})});function G(r,n,i){const s=(h,l)=>p(h).format(i)===p(l).format(i);return m.isDate(r)&&m.isDate(n)?s(r,n):m.isNull(r)&&m.isNull(n)?!0:m.isArray(r)&&m.isArray(n)?s(r[0],n[0])&&s(r[1],n[1]):!1}function B(r,n,i){return!!(n==="ascend"&&p(r[0]).isAfter(r[1],i)||n==="descend"&&p(r[0]).isBefore(r[1],i))}function J(r,n){const i=p(r[0]).set("year",2e3).set("month",0).set("date",1),s=p(r[1]).set("year",2e3).set("month",0).set("date",1);return B([i.toDate(),s.toDate()],n)}export{I as S,F as T,J as a,G as d,B as o};
