import{u as g,b as N,e as i,l,j as n,m as h}from"./index-9f212341.js";import{t as S}from"./toPx-c8d9ee96.js";const _={avatar:"^avatar","avatar--img":"^avatar--img","avatar--icon":"^avatar--icon","avatar--text":"^avatar--text","avatar--circle":"^avatar--circle","avatar--square":"^avatar--square",avatar__img:"^avatar__img"};function A(p){const{styleOverrides:x,styleProvider:c,shape:d="circle",img:a,icon:v,text:u,size:t=40,...o}=g("Avatar",p),m=N(_,{avatar:c==null?void 0:c.avatar},x),r=i.useRef(null),[y,E]=i.useState(!1),e=a&&!y?"img":v?"icon":u?"text":"img";return i.useEffect(()=>{if(r.current){const s=Math.sqrt(Math.pow((l.isNumber(t)?t:S(t,!0))/2,2)-Math.pow(r.current.scrollHeight/2,2))*2;r.current.scrollWidth>s?r.current.style.transform=`scale(${s/r.current.scrollWidth})`:r.current.style.transform=""}}),n("div",{...o,...h(m("avatar",`avatar--${e}`,`avatar--${d}`),{className:o.className,style:{...o.style,width:t,height:t,fontSize:e==="icon"?`calc((${t}${l.isNumber(t)?"px":""} / 2) * 1.25)`:e==="text"?`calc(${t}${l.isNumber(t)?"px":""} / 2)`:void 0}}),children:e==="img"?n("img",{...a,...h(m("avatar__img"),{className:a==null?void 0:a.className,style:a==null?void 0:a.style}),onError:s=>{var f;(f=a==null?void 0:a.onError)==null||f.call(a,s),E(!0)}}):e==="icon"?v:n("div",{ref:r,children:u})})}export{A};
