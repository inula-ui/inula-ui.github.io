import{o as M,u as Z,b as ee,r as oe,x as ne,E as ae,h as ce,d as J,l as g,z as te,n as de,O as ie,j as n,e as Q,m as F,Y as U,I as y}from"./index-249b6286.js";import{u as ue}from"./useForkRef-71e20439.js";import{S as se}from"./cancel-bd11743d.js";import{S as pe}from"./visibility-d1770926.js";import{S as fe}from"./keyboard_arrow_down-644b147a.js";const me=v=>M.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",...v},M.createElement("path",{d:"M12 6a9.77 9.77 0 0 1 8.82 5.5 9.647 9.647 0 0 1-2.41 3.12l1.41 1.41c1.39-1.23 2.49-2.77 3.18-4.53C21.27 7.11 17 4 12 4c-1.27 0-2.49.2-3.64.57l1.65 1.65C10.66 6.09 11.32 6 12 6zm-1.07 1.14L13 9.21c.57.25 1.03.71 1.28 1.28l2.07 2.07c.08-.34.14-.7.14-1.07C16.5 9.01 14.48 7 12 7c-.37 0-.72.05-1.07.14zM2.01 3.87l2.68 2.68A11.738 11.738 0 0 0 1 11.5C2.73 15.89 7 19 12 19c1.52 0 2.98-.29 4.32-.82l3.42 3.42 1.41-1.41L3.42 2.45 2.01 3.87zm7.5 7.5 2.61 2.61c-.04.01-.08.02-.12.02a2.5 2.5 0 0 1-2.5-2.5c0-.05.01-.08.01-.13zm-3.4-3.4 1.75 1.75a4.6 4.6 0 0 0-.36 1.78 4.507 4.507 0 0 0 6.27 4.14l.98.98c-.88.24-1.8.38-2.75.38a9.77 9.77 0 0 1-8.82-5.5c.7-1.43 1.72-2.61 2.93-3.53z"})),be=v=>M.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",...v},M.createElement("path",{d:"M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6 1.41 1.41z"})),re={input:"^input","input.is-disabled":"is-disabled","input--small":"^input--small","input--medium":"^input--medium","input--large":"^input--large",input__prefix:"^input__prefix",input__input:"^input__input",input__clear:"^input__clear",input__password:"^input__password",input__suffix:"^input__suffix","input__number-container":"^input__number-container",input__number:"^input__number"};function he(v){const{styleOverrides:A,styleProvider:w,formControl:i,model:L,defaultModel:O,max:c,min:p,step:b=1,integer:S=!1,prefix:D,suffix:I,clearable:P,placeholder:j,size:K,numberButton:V=!0,disabled:C=!1,inputRef:$,inputRender:N,onModelChange:Y,onClear:r,...u}=Z("InputNumber",v),d=ee(re,{input:w==null?void 0:w.input},A),x=oe(),{t:R}=ne(),z=ae(),l=M.useRef({inputFocused:!1}),h=M.useRef(null),q=ue(h,$),G=ce(()=>window),[_,k]=J(O??null,L,Y,void 0,i==null?void 0:i.control),f=l.current.inputFocused&&!g.isUndefined(l.current.inputValue)?l.current.inputValue:g.isNull(_)?"":_.toString(),m=e=>{(g.isNull(e)?"":e.toString())!==f&&z(),l.current.inputValue=void 0,k(e)},{size:s,disabled:o}=te({size:K,disabled:C||(i==null?void 0:i.control.disabled)}),E=e=>{var t;return Number(Math.max(p??-1/0,Math.min(c??1/0,e)).toFixed(((t=b.toString().split(".")[1])==null?void 0:t.length)??0))},B=(e=!0)=>{m(E((()=>{let a=f.length>0?Number(f):null;return g.isNull(a)?0:(S&&!Number.isInteger(a)&&(a=Math.round(a)),e?a+b:a-b)})()));const t=a=>{const T=E(e?a+b:a-b);m(T),l.current.clearLoop=x.setTimeout(()=>t(T),50)};l.current.clearTid=x.setTimeout(()=>t(Number(f)),400)},H=()=>{var e,t,a,T;(t=(e=l.current).clearLoop)==null||t.call(e),(T=(a=l.current).clearTid)==null||T.call(a)};de(G,"mouseup",H);const W=e=>{document.activeElement===h.current&&e.target!==h.current&&e.button===0&&e.preventDefault()},le=ie({compose:{disabled:o},form:i}),X=n("input",{...d("input__input"),...i==null?void 0:i.inputAria,ref:q,value:f,max:c,min:p,step:b,type:"number",placeholder:j,disabled:o,onChange:e=>{if(z(),l.current.inputValue=e.currentTarget.value,e.currentTarget.value.length===0)m(null);else{const t=Number(e.currentTarget.value);(g.isUndefined(c)||t<=c)&&(g.isUndefined(p)||t>=p)&&(!S||Number.isInteger(t))&&m(t)}},onFocus:()=>{l.current.inputFocused=!0,l.current.inputValue=void 0},onBlur:()=>{if(l.current.inputFocused=!1,f.length===0)m(null);else{let e=Number(f);!g.isUndefined(c)&&e>c&&(e=c),!g.isUndefined(p)&&e<p&&(e=p),S&&!Number.isInteger(e)&&(e=Math.round(e)),m(e)}}});return Q("div",{...u,...F(d("input",`input--${s}`,{"input.is-disabled":o}),{className:u.className,style:{...u.style,paddingRight:V&&!o&&!U(I)?0:void 0}}),...le,onMouseDown:e=>{var t;(t=u.onMouseDown)==null||t.call(u,e),W(e)},onMouseUp:e=>{var t;(t=u.onMouseUp)==null||t.call(u,e),W(e)},onClick:e=>{var t,a;(t=u.onClick)==null||t.call(u,e),(a=h.current)==null||a.focus({preventScroll:!0})},children:[U(D)&&n("div",{...d("input__prefix"),children:D}),N?N(X):X,P&&!o&&n("div",{...F(d("input__clear"),{style:{opacity:f.length>0?1:0}}),role:"button","aria-label":R("Clear"),onClick:()=>{m(null),r==null||r()},children:n(y,{children:n(se,{})})}),V&&!o&&Q("div",{...d("input__number-container"),children:[n("div",{...d("input__number"),role:"button","aria-label":R("Input","Increase number"),onMouseDown:e=>{e.button===0&&B()},onTouchStart:()=>{B()},onTouchEnd:()=>{H()},children:n(y,{children:n(be,{})})}),n("div",{...d("input__number"),role:"button","aria-label":R("Input","Decrease number"),onMouseDown:e=>{e.button===0&&B(!1)},onTouchStart:()=>{B(!1)},onTouchEnd:()=>{H()},children:n(y,{children:n(fe,{})})})]}),U(I)&&n("div",{...d("input__suffix"),children:I})]})}const _e=v=>{const{styleOverrides:A,styleProvider:w,formControl:i,model:L,defaultModel:O,type:c,prefix:p,suffix:b,password:S,defaultPassword:D,clearable:I,placeholder:P,size:j,disabled:K=!1,inputRef:V,inputRender:C,onModelChange:$,onClear:N,onPasswordChange:Y,...r}=Z("Input",v),u=ee(re,{input:w==null?void 0:w.input},A),{t:d}=ne(),x=M.useRef(null),R=ue(x,V),[z,l]=J(O??"",L,$,void 0,i==null?void 0:i.control),[h,q]=J(D??!0,S,Y),{size:G,disabled:_}=te({size:j,disabled:K||(i==null?void 0:i.control.disabled)}),k=s=>{document.activeElement===x.current&&s.target!==x.current&&s.button===0&&s.preventDefault()},f=ie({compose:{disabled:_},form:i}),m=n("input",{...u("input__input"),...i==null?void 0:i.inputAria,ref:R,value:z,type:c==="password"?h?"password":"text":c,placeholder:P,disabled:_,onChange:s=>{l(s.currentTarget.value)}});return Q("div",{...r,...F(u("input",`input--${G}`,{"input.is-disabled":_}),{className:r.className,style:r.style}),...f,onMouseDown:s=>{var o;(o=r.onMouseDown)==null||o.call(r,s),k(s)},onMouseUp:s=>{var o;(o=r.onMouseUp)==null||o.call(r,s),k(s)},onClick:s=>{var o,E;(o=r.onClick)==null||o.call(r,s),(E=x.current)==null||E.focus({preventScroll:!0})},children:[U(p)&&n("div",{...u("input__prefix"),children:p}),C?C(m):m,I&&!_&&n("div",{...F(u("input__clear"),{style:{opacity:z.length>0?1:0}}),role:"button","aria-label":d("Clear"),onClick:()=>{l(""),N==null||N()},children:n(y,{children:n(se,{})})}),c==="password"&&!_&&n("div",{...u("input__password"),role:"button","aria-label":d("Input",h?"Password is not visible":"Password is visible"),onClick:()=>{q(s=>!s)},children:h?n(y,{children:n(me,{})}):n(y,{children:n(pe,{})})}),U(b)&&n("div",{...u("input__suffix"),children:b})]})};_e.Number=he;export{_e as I};
