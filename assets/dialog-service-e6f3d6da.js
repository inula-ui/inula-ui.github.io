import{o as l}from"./index-249b6286.js";let f=0;const i=l.createStore({id:"inula-ui-dialogs",state:{data:[]},actions:{open(e,o,a,c){e.data=[{key:c,type:o,props:{...a,visible:!0,skipFirstTransition:!1,onClose:()=>{var n;(n=a.onClose)==null||n.call(a),s.close(c)},afterVisibleChange:n=>{var d;if((d=a.afterVisibleChange)==null||d.call(a,n),!n){const t=e.data.findIndex(r=>r.key===c);t!==-1&&(e.data.splice(t,1),e.data=[].concat(e.data))}}}}].concat(e.data)},close(e,o){const a=e.data.findIndex(c=>c.key===o);a!==-1&&(e.data[a].props.visible=!1,e.data=[].concat(e.data))},rerender(e,o,a,c){const n=e.data.findIndex(d=>d.key===o);n!==-1&&(e.data.splice(n,1,{key:o,type:a,props:Object.assign(e.data[n].props,c)}),e.data=[].concat(e.data))},closeAll(e,o){o?(e.data.forEach(a=>{a.props.visible=!1}),e.data=[].concat(e.data)):e.data=[]}}});class s{static open(o,a,c){const n=c??++f;return i().open(o,a,n),{key:n,close:()=>{s.close(n)},rerender:t=>{s.rerender(n,o,t)}}}static close(o){i().close(o)}static rerender(o,a,c){i().rerender(o,a,c)}static closeAll(o=!0){i().closeAll(o)}}export{s as D};
