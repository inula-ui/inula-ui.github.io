import{u as F,b as G,y as Q,o as z,d as E,j as i,m as U,I as f,J as W,e as A,l as $}from"./index-e495cc14.js";import{S as X}from"./keyboard_arrow_left-d92b613a.js";import{S as Y,a as Z}from"./keyboard_double_arrow_right-6bca9223.js";import{S as L}from"./Route-f64357b6.js";import{S as ii}from"./Select-8671b063.js";import{I as ni}from"./Input-682506b1.js";function M(P,j=!1){return{tabIndex:j?-1:0,role:"button","aria-disabled":j,onKeyDown:u=>{(u.code==="Enter"||u.code==="Space")&&(u.preventDefault(),P())},onClick:P}}const ti={pagination:"^pagination","pagination--mini":"^pagination--mini",pagination__row:"^pagination__row",pagination__jump:"^pagination__jump",pagination__button:"^pagination__button","pagination__button.is-active":"is-active","pagination__button.is-disabled":"is-disabled","pagination__button--border":"^pagination__button--border","pagination__button--number":"^pagination__button--number","pagination__button--jump5":"^pagination__button--jump5","pagination__jump5-icon":"^pagination__jump5-icon",pagination__ellipsis:"^pagination__ellipsis"};function si(P){const{styleOverrides:j,styleProvider:u,total:S,active:C,defaultActive:O,pageSize:H,defaultPageSize:J,pageSizeList:I=[10,20,50,100],compose:K=["pages"],customRender:t,mini:b=!1,onChange:h,...x}=F("Pagination",P),r=G(ti,{pagination:u==null?void 0:u.pagination},j),{t:g}=Q(),N=z.useRef(null),[o,T]=E(O??1,C),c=l=>{const d=Math.max(Math.min(l,p),1);T(d),Object.is(d,o)||h==null||h(d,v)},[v,V]=E(J??I[0],H),q=l=>{V(l);const d=Math.max(Math.ceil(S/l),1),_=Math.max(Math.min(o,d),1);(!Object.is(_,o)||!Object.is(l,v))&&(h==null||h(_,l))},[D,B]=z.useState(null),p=Math.max(Math.ceil(S/v),1);return i("nav",{...x,...U(r("pagination",{"pagination--mini":b}),{className:x.className,style:x.style}),ref:N,role:"navigation","aria-label":x["aria-label"]??"Pagination Navigation",children:i("div",{...r("pagination__row"),children:K.map((l,d)=>{const _=d===K.length-1?void 0:b?2:6;if(l==="total"){const m=(()=>{const a=[Math.min((o-1)*v+1,S),Math.min(o*v,S)];return t&&t.total?t.total(a):`${g("Pagination","Total")} ${S} ${g("Pagination","items")}`})();return i("div",{children:i("div",{style:{paddingRight:_},children:m})},"total")}if(l==="pages"){const[m,a,y]=[i("li",{...r("pagination__button",{"pagination__button.is-disabled":o===1,"pagination__button--border":!(t&&t.prev)}),...M(()=>{c(o-1)},o===1),title:g("Pagination","Previous page"),children:t&&t.prev?t.prev:i(f,{children:i(X,{})})}),n=>t&&t.page?t.page(n):i("div",{children:n}),i("li",{...r("pagination__button",{"pagination__button.is-disabled":o===p,"pagination__button--border":!(t&&t.next)}),...M(()=>{c(o+1)},o===p),title:g("Pagination","Next page"),children:t&&t.next?t.next:i(f,{children:i(W,{})})})];let e=[];if(p<=7)e=Array.from({length:p}).map((n,s)=>s+1);else{for(let n=-3;n<=3;n++)e.push(o+n);e[0]<1&&(e=e.map(n=>n+(1-e[0]))),e[6]>p&&(e=e.map(n=>n-(e[6]-p))),e[0]>1&&(e[0]=1,e[1]="prev5"),e[6]<p&&(e[6]=p,e[5]="next5")}return A(z.Fragment,{children:[i("div",{children:m}),e.map(n=>n==="prev5"?i("div",{children:A("li",{...r("pagination__button","pagination__button--jump5"),...M(()=>{c(o-5)}),title:g("Pagination","5 pages forward"),children:[i(f,{...r("pagination__jump5-icon"),children:i(Y,{})}),i("div",{...r("pagination__ellipsis"),children:i(f,{children:i(L,{})})})]})},"prev5"):n==="next5"?i("div",{children:A("li",{...r("pagination__button","pagination__button--jump5"),...M(()=>{c(o+5)}),title:g("Pagination","5 pages backward"),children:[i(f,{...r("pagination__jump5-icon"),children:i(Z,{})}),i("div",{...r("pagination__ellipsis"),children:i(f,{children:i(L,{})})})]})},"next5"):i("div",{children:i("li",{...r("pagination__button","pagination__button--border","pagination__button--number",{"pagination__button.is-active":o===n}),tabIndex:0,"data-number":n,onClick:()=>{c(n)},onKeyDown:s=>{const w=k=>{if(N.current){const R=N.current.querySelector(`li[data-number="${k}"]`);R==null||R.focus({preventScroll:!0})}c(k)};switch(s.code){case"ArrowLeft":s.preventDefault(),w(n-1);break;case"ArrowRight":s.preventDefault(),w(n+1);break;case"Home":s.preventDefault(),w(1);break;case"End":s.preventDefault(),w(p);break}},children:a(n)})},n)),i("div",{children:i("div",{style:{paddingRight:_},children:y})})]},"pages")}if(l==="page-size"){const m=I.map(a=>({label:a.toString(),value:a}));return i("div",{children:i("div",{style:{paddingRight:_},children:i(ii,{list:m,model:v,size:b?"small":void 0,customItem:a=>t&&t.pageSize?t.pageSize(a.value):a.label,customSelected:a=>`${a.label}${g("Pagination"," / Page")}`,onModelChange:a=>{$.isNull(a)||q(a)}})})},"page-size")}if(l==="jump"){const m=(()=>{const a=i(ni.Number,{style:{width:b?48:72},model:D,max:p,min:1,step:1,size:b?"small":void 0,numberButton:!b,inputRender:y=>z.cloneElement(y,{onKeyDown:e=>{var n,s;(s=(n=y.props).onKeyDown)==null||s.call(n,e),e.code==="Enter"&&(e.preventDefault(),$.isNumber(D)&&c(D))}}),onModelChange:B});return t&&t.jump?t.jump(a):A("div",{...r("pagination__jump"),children:[i("span",{children:g("Pagination","Go")}),a,i("span",{children:g("Pagination","Page")})]})})();return i("div",{children:i("div",{style:{paddingRight:_},children:m})},"jump")}return null})})})}export{si as P};
