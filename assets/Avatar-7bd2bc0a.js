import{u as g,b as N,o as i,l as n,j as l,m as f}from"./index-150908e9.js";import{t as S}from"./toPx-df45c509.js";const _={avatar:"^avatar","avatar--img":"^avatar--img","avatar--icon":"^avatar--icon","avatar--text":"^avatar--text","avatar--circle":"^avatar--circle","avatar--square":"^avatar--square",avatar__img:"^avatar__img"};function A(h){const{styleOverrides:x,styleProvider:o,shape:d="circle",img:a,icon:v,text:u,size:t=40,...c}=g("Avatar",h),m=N(_,{avatar:o==null?void 0:o.avatar},x),r=i.useRef(null),[y,E]=i.useState(!1),e=a&&!y?"img":v?"icon":u?"text":"img";return i.useEffect(()=>{if(r.current){const s=Math.sqrt(Math.pow((n.isNumber(t)?t:S(t,!0))/2,2)-Math.pow(r.current.scrollHeight/2,2))*2;r.current.scrollWidth>s?r.current.style.transform=`scale(${s/r.current.scrollWidth})`:r.current.style.transform=""}}),l("div",{...c,...f(m("avatar",`avatar--${e}`,`avatar--${d}`),{className:c.className,style:{...c.style,width:t,height:t,fontSize:e==="icon"?`calc((${t}${n.isNumber(t)?"px":""} / 2) * 1.25)`:e==="text"?`calc(${t}${n.isNumber(t)?"px":""} / 2)`:void 0}}),children:e==="img"?l("img",{...a,...f(m("avatar__img"),{className:a==null?void 0:a.className,style:a==null?void 0:a.style}),onError:s=>{var p;(p=a==null?void 0:a.onError)==null||p.call(a,s),E(!0)}}):e==="icon"?v:l("div",{ref:r,children:u})})}export{A};
